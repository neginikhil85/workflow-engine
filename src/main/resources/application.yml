server:
    port: 8080
spring:
    application:
        name: workflow-engine
    data:
        mongodb:
            uri: mongodb://localhost:27017/workflowdb
    mail:
        host: smtp.gmail.com
        port: 587
        username: "lihkinnegi@gmail.com"
        password: "mfoh xrhl giwu pzqj"
        properties:
            mail:
                smtp:
                    auth: true
                    starttls:
                        enable: true

management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always
    metrics:
      enabled: true
    prometheus:
      enabled: true

# Suppress verbose Kafka logs - only show WARN/ERROR for config dumps
logging:
  level:
    # Kafka Admin
    org.apache.kafka.clients.admin.AdminClientConfig: WARN
    # Kafka Producer - suppress config dumps
    org.apache.kafka.clients.producer.ProducerConfig: WARN
    org.apache.kafka.clients.producer.KafkaProducer: WARN
    org.apache.kafka.clients.producer.internals.TransactionManager: WARN
    # Kafka Consumer - suppress config dumps
    org.apache.kafka.clients.consumer.ConsumerConfig: WARN
    org.apache.kafka.clients.consumer.internals: WARN
    # Kafka Common - suppress verbose internals
    org.apache.kafka.common.utils.AppInfoParser: WARN
    org.apache.kafka.common.metrics.Metrics: WARN
    org.apache.kafka.clients.Metadata: WARN
    org.apache.kafka.common.telemetry: WARN
    # Keep coordinator logs at WARN (very verbose during rebalance)
    org.apache.kafka.clients.consumer.internals.ConsumerCoordinator: WARN

# OAuth2 Configuration
spring.security.oauth2.client:
  registration:
    google:
      client-id: ${GOOGLE_CLIENT_ID:your-google-client-id}
      client-secret: ${GOOGLE_CLIENT_SECRET:your-google-client-secret}
      scope: email,profile
    github:
      client-id: ${GITHUB_CLIENT_ID:your-github-client-id}
      client-secret: ${GITHUB_CLIENT_SECRET:your-github-client-secret}
      scope: user:email,read:user

# App specific settings
app:
  jwt:
    secret: ${JWT_SECRET:workflow-studio-secret-key-change-in-production-must-be-256-bits-long}
    expiration: 86400000  # 24 hours in milliseconds
  frontend:
    url: ${FRONTEND_URL:http://localhost:5173}
    auth-callback-path: /auth/callback?token=
  cors:
    allowed-origins:
      - http://localhost:5173
      - http://localhost:3000
    allowed-methods:
      - GET
      - POST
      - PUT
      - DELETE
      - OPTIONS
    allowed-headers:
      - "*"
    exposed-headers:
      - Authorization
  security:
    public-paths:
      - /
      - /error
      - /favicon.ico
    auth-paths:
      - /auth/**
      - /oauth2/**
      - /login/**
    actuator-paths:
      - /actuator/**

